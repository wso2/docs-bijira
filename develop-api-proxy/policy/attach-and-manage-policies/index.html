
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Bijira Documentation">
      
      
        <meta name="author" content="WSO2">
      
      
        <link rel="canonical" href="https://wso2.com/bijira/docs/develop-api-proxy/policy/attach-and-manage-policies/">
      
      
        <link rel="prev" href="../policies/">
      
      
        <link rel="next" href="../../documents/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.2">
    
    
      
        <title>Bijira Documentation | Attach and Manage Policies</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7bf56d0a.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<!-- Added the font from google fonts -->
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap" rel="stylesheet">
        <style>:root{--md-text-font:"Montserrat";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/lib/highlightjs/styles/vs.min.css">
    
      <link rel="stylesheet" href="../../../assets/css/blue-palette-alt2.css">
    
      <link rel="stylesheet" href="../../../assets/css/bijiratheme.css">
    
      <link rel="stylesheet" href="../../../assets/lib/json-formatter/json-formatter.css">
    
      <link rel="stylesheet" href="../../../assets/css/config-catalog.css">
    
      <link rel="stylesheet" href="../../../assets/lib/fontawesome-free-6.3.0-web/css/all.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
    <link rel="stylesheet" href="https://unpkg.com/highlightjs/styles/vs.css" />
<!-- scripts -->
<script type="text/javascript" src="../../assets/lib/highlightjs/highlight.min.js"></script>
<script type="text/javascript" src="../../assets/lib/highlightjs/ballerina.min.js"></script>
<script type="text/javascript">
	hljs.highlightAll();
</script>
   <!-- Google Tag Manager -->
   <script>
    (function(w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({
       'gtm.start': new Date().getTime(),
        event: 'gtm.js'
      });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != 'dataLayer' ? '&l=' + l : '';
      j.setAttributeNode(d.createAttribute('data-ot-ignore'));
      j.async = true;
      j.src =
        'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-PSTXMT');
   </script>
   <!-- End Google Tag Manager -->

   <!-- todo Add the cookie consent notice -->
   <!-- CookiePro cookie consent notice start -->
   <!-- <script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="486163bc-a8c5-40d8-b185-c707cc718a23" ></script>
   <script src="https://wso2.com//sites/all/themes/wso2_d7/js/cookie-revoke.js"></script> -->

   <!-- CookiePro cookies consent notice end -->
   
  </script>
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>

  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="" >
  
    
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#attach-and-manage-policies" class="md-skip">
          Skip to content
        </a>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Bijira Documentation" class="md-header__button md-logo" aria-label="Bijira Documentation" data-md-component="logo">
      
    
        <img class="logo-light" src="../../../assets/images/BijiraDocs.svg" alt="logo" data-md-component="logo" data-md-color-scheme="default">
    
    
        <img class="logo-dark" src="../../../assets/images/BijiraDocsWhite.svg" alt="logo" data-md-component="logo" data-md-color-scheme="slate">
    

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Attach and Manage Policies
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div
  class="md-search"
  data-md-component="search"
  role="dialog"
  style="margin-left: 12px"
>
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search" id="search">
      <input
        type="text"
        class="md-search__input"
        name="query"
        id="query"
        aria-label="Search"
        placeholder="Search"
        autocapitalize="off"
        autocorrect="off"
        autocomplete="off"
        spellcheck="false"
        data-md-component="search-query"
        required
      />
      <label class="md-search__icon md-icon" for="__search" style="color :rgb(223, 223, 223)">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button
          type="reset"
          class="md-search__icon md-icon"
          title="Clear"
          aria-label="Clear"
          tabindex="-1"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output" id="dropDownSearchResults">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>

          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <div class="row" style="display: flex; align-items: center;">
  <div style="display: block; float: left; width: 49%">
    <a
      class="md-source"
      data-md-component="source"
      href="https://discord.com/invite/wso2"
    >
      <div class="md-source__icon md-icon">
         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
      </div>
      <label>Get Help</label>
    </a>
  </div>
  <div style="width: 49%; float: right; display: block">
    <!-- <a
      class="md-source"
      data-md-component="source"
      href="https://console.bijira.dev/login/"
    >
      <div class="md-source__icon md-icon">
        <svg
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 101.98 78.17"
        >
          <path
            class="cls-1"
            d="M97.46,18.83c-.33-7.98-6.9-14.34-14.96-14.34h-39.8c-7.98.34-14.34,6.92-14.34,14.98v17.28s-9.51,0-9.51,0h-.36c-2.24-.18-3.95-1.94-3.95-4.03v-12.87c2.73-1.29,4.61-4.07,4.61-7.29,0-4.45-3.61-8.06-8.06-8.06S3.01,8.1,3.01,12.55c0,3.22,1.88,5.99,4.61,7.29v12.94s.01.49.01.49c.26,5.84,5.21,10.45,11.21,10.45h9.51s0,14.91,0,14.91v.63c.34,7.98,6.92,14.34,14.98,14.34h39.8c7.98-.34,14.34-6.92,14.34-14.98V18.83ZM90.56,58.63v.49c-.27,4.22-3.78,7.57-8.06,7.57h-39.66c-4.22-.27-7.57-3.78-7.57-8.06V18.97c.27-4.22,3.78-7.57,8.06-7.57h39.17c4.45,0,8.06,3.61,8.06,8.06v39.17Z"
          ></path>
          <path
            class="cls-1"
            d="M49.24,58.3V19.88h16.19c2.41,0,4.49.43,6.24,1.29,1.75.86,3.09,2.06,4.02,3.61.93,1.55,1.39,3.4,1.39,5.57,0,1.82-.47,3.5-1.42,5.03-.95,1.53-2.42,2.76-4.41,3.69v-2.63c1.75.69,3.18,1.56,4.28,2.6,1.1,1.05,1.9,2.23,2.4,3.53.5,1.31.75,2.68.75,4.13,0,3.61-1.18,6.45-3.53,8.51-2.36,2.06-5.6,3.09-9.72,3.09h-16.19ZM55.32,35.19h10.21c1.65,0,2.97-.47,3.97-1.42,1-.95,1.5-2.17,1.5-3.69s-.5-2.75-1.5-3.61c-1-.86-2.32-1.29-3.97-1.29h-10.21v10ZM55.32,52.88h10.57c2.03,0,3.65-.56,4.87-1.68,1.22-1.12,1.83-2.6,1.83-4.46s-.61-3.35-1.83-4.49c-1.22-1.13-2.84-1.7-4.87-1.7h-10.57v12.33Z"
          ></path>
        </svg>
      </div>
      <label>Try Bijira</label>
    </a> -->
    <button
      class="bijira-button"
      onclick="window.open('https://console.bijira.dev/login/', '_blank')"
    >
      <svg
        id="Layer_1"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 101.98 78.17"
        width="24"
        height="24"
        fill="#6C9BB5"
      >
        <path
          class="cls-1"
          d="M97.46,18.83c-.33-7.98-6.9-14.34-14.96-14.34h-39.8c-7.98.34-14.34,6.92-14.34,14.98v17.28s-9.51,0-9.51,0h-.36c-2.24-.18-3.95-1.94-3.95-4.03v-12.87c2.73-1.29,4.61-4.07,4.61-7.29,0-4.45-3.61-8.06-8.06-8.06S3.01,8.1,3.01,12.55c0,3.22,1.88,5.99,4.61,7.29v12.94s.01.49.01.49c.26,5.84,5.21,10.45,11.21,10.45h9.51s0,14.91,0,14.91v.63c.34,7.98,6.92,14.34,14.98,14.34h39.8c7.98-.34,14.34-6.92,14.34-14.98V18.83ZM90.56,58.63v.49c-.27,4.22-3.78,7.57-8.06,7.57h-39.66c-4.22-.27-7.57-3.78-7.57-8.06V18.97c.27-4.22,3.78-7.57,8.06-7.57h39.17c4.45,0,8.06,3.61,8.06,8.06v39.17Z"
        ></path>
        <path
          class="cls-1"
          d="M49.24,58.3V19.88h16.19c2.41,0,4.49.43,6.24,1.29,1.75.86,3.09,2.06,4.02,3.61.93,1.55,1.39,3.4,1.39,5.57,0,1.82-.47,3.5-1.42,5.03-.95,1.53-2.42,2.76-4.41,3.69v-2.63c1.75.69,3.18,1.56,4.28,2.6,1.1,1.05,1.9,2.23,2.4,3.53.5,1.31.75,2.68.75,4.13,0,3.61-1.18,6.45-3.53,8.51-2.36,2.06-5.6,3.09-9.72,3.09h-16.19ZM55.32,35.19h10.21c1.65,0,2.97-.47,3.97-1.42,1-.95,1.5-2.17,1.5-3.69s-.5-2.75-1.5-3.61c-1-.86-2.32-1.29-3.97-1.29h-10.21v10ZM55.32,52.88h10.57c2.03,0,3.65-.56,4.87-1.68,1.22-1.12,1.83-2.6,1.83-4.46s-.61-3.35-1.83-4.49c-1.22-1.13-2.84-1.7-4.87-1.7h-10.57v12.33Z"
        ></path>
      </svg>
      Try Bijira
    </button>
  </div>
</div>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"  style="width: 20%;">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner" style="padding-right: 8px;">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
    <label class="md-nav__title md-nav__title--site" for="__drawer">
      <a href="https://wso2.com/bijira/docs/" title="Bijira Documentation"
         class="md-nav__button md-logo">
        
          <img src="../../../assets/images/BijiraDocs.svg" width="48" height="48">
        
      </a>
      Bijira Documentation
    </label>
    
      <div class="md-nav__source">
        <div class="row" style="display: flex; align-items: center;">
  <div style="display: block; float: left; width: 49%">
    <a
      class="md-source"
      data-md-component="source"
      href="https://discord.com/invite/wso2"
    >
      <div class="md-source__icon md-icon">
         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
      </div>
      <label>Get Help</label>
    </a>
  </div>
  <div style="width: 49%; float: right; display: block">
    <!-- <a
      class="md-source"
      data-md-component="source"
      href="https://console.bijira.dev/login/"
    >
      <div class="md-source__icon md-icon">
        <svg
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 101.98 78.17"
        >
          <path
            class="cls-1"
            d="M97.46,18.83c-.33-7.98-6.9-14.34-14.96-14.34h-39.8c-7.98.34-14.34,6.92-14.34,14.98v17.28s-9.51,0-9.51,0h-.36c-2.24-.18-3.95-1.94-3.95-4.03v-12.87c2.73-1.29,4.61-4.07,4.61-7.29,0-4.45-3.61-8.06-8.06-8.06S3.01,8.1,3.01,12.55c0,3.22,1.88,5.99,4.61,7.29v12.94s.01.49.01.49c.26,5.84,5.21,10.45,11.21,10.45h9.51s0,14.91,0,14.91v.63c.34,7.98,6.92,14.34,14.98,14.34h39.8c7.98-.34,14.34-6.92,14.34-14.98V18.83ZM90.56,58.63v.49c-.27,4.22-3.78,7.57-8.06,7.57h-39.66c-4.22-.27-7.57-3.78-7.57-8.06V18.97c.27-4.22,3.78-7.57,8.06-7.57h39.17c4.45,0,8.06,3.61,8.06,8.06v39.17Z"
          ></path>
          <path
            class="cls-1"
            d="M49.24,58.3V19.88h16.19c2.41,0,4.49.43,6.24,1.29,1.75.86,3.09,2.06,4.02,3.61.93,1.55,1.39,3.4,1.39,5.57,0,1.82-.47,3.5-1.42,5.03-.95,1.53-2.42,2.76-4.41,3.69v-2.63c1.75.69,3.18,1.56,4.28,2.6,1.1,1.05,1.9,2.23,2.4,3.53.5,1.31.75,2.68.75,4.13,0,3.61-1.18,6.45-3.53,8.51-2.36,2.06-5.6,3.09-9.72,3.09h-16.19ZM55.32,35.19h10.21c1.65,0,2.97-.47,3.97-1.42,1-.95,1.5-2.17,1.5-3.69s-.5-2.75-1.5-3.61c-1-.86-2.32-1.29-3.97-1.29h-10.21v10ZM55.32,52.88h10.57c2.03,0,3.65-.56,4.87-1.68,1.22-1.12,1.83-2.6,1.83-4.46s-.61-3.35-1.83-4.49c-1.22-1.13-2.84-1.7-4.87-1.7h-10.57v12.33Z"
          ></path>
        </svg>
      </div>
      <label>Try Bijira</label>
    </a> -->
    <button
      class="bijira-button"
      onclick="window.open('https://console.bijira.dev/login/', '_blank')"
    >
      <svg
        id="Layer_1"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 101.98 78.17"
        width="24"
        height="24"
        fill="#6C9BB5"
      >
        <path
          class="cls-1"
          d="M97.46,18.83c-.33-7.98-6.9-14.34-14.96-14.34h-39.8c-7.98.34-14.34,6.92-14.34,14.98v17.28s-9.51,0-9.51,0h-.36c-2.24-.18-3.95-1.94-3.95-4.03v-12.87c2.73-1.29,4.61-4.07,4.61-7.29,0-4.45-3.61-8.06-8.06-8.06S3.01,8.1,3.01,12.55c0,3.22,1.88,5.99,4.61,7.29v12.94s.01.49.01.49c.26,5.84,5.21,10.45,11.21,10.45h9.51s0,14.91,0,14.91v.63c.34,7.98,6.92,14.34,14.98,14.34h39.8c7.98-.34,14.34-6.92,14.34-14.98V18.83ZM90.56,58.63v.49c-.27,4.22-3.78,7.57-8.06,7.57h-39.66c-4.22-.27-7.57-3.78-7.57-8.06V18.97c.27-4.22,3.78-7.57,8.06-7.57h39.17c4.45,0,8.06,3.61,8.06,8.06v39.17Z"
        ></path>
        <path
          class="cls-1"
          d="M49.24,58.3V19.88h16.19c2.41,0,4.49.43,6.24,1.29,1.75.86,3.09,2.06,4.02,3.61.93,1.55,1.39,3.4,1.39,5.57,0,1.82-.47,3.5-1.42,5.03-.95,1.53-2.42,2.76-4.41,3.69v-2.63c1.75.69,3.18,1.56,4.28,2.6,1.1,1.05,1.9,2.23,2.4,3.53.5,1.31.75,2.68.75,4.13,0,3.61-1.18,6.45-3.53,8.51-2.36,2.06-5.6,3.09-9.72,3.09h-16.19ZM55.32,35.19h10.21c1.65,0,2.97-.47,3.97-1.42,1-.95,1.5-2.17,1.5-3.69s-.5-2.75-1.5-3.61c-1-.86-2.32-1.29-3.97-1.29h-10.21v10ZM55.32,52.88h10.57c2.03,0,3.65-.56,4.87-1.68,1.22-1.12,1.83-2.6,1.83-4.46s-.61-3.35-1.83-4.49c-1.22-1.13-2.84-1.7-4.87-1.7h-10.57v12.33Z"
        ></path>
      </svg>
      Try Bijira
    </button>
  </div>
</div>
      </div>
    
    <ul class="md-nav__list" data-md-scrollfix>
      
        
        
        





<li class="md-nav__item">
  
    <a href="../../.." class="md-nav__link">
      Home
    </a>
  
</li>
      
        
        
        




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-2" >
    <label class="md-nav__link" for="nav-2" id="nav-2_label" tabindex="1">
      Introduction
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-2_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Introduction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../introduction/what-is-bijira/" class="md-nav__link">
      What is Bijira?
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../introduction/quick-start-guide/" class="md-nav__link">
      Quick Start Guide
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        
        
        




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-3" >
    <label class="md-nav__link" for="nav-3" id="nav-3_label" tabindex="1">
      Bijira Samples
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-3_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Bijira Samples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../samples/samples-overview/" class="md-nav__link">
      Samples Overview
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        
        
        




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-4" >
    <label class="md-nav__link" for="nav-4" id="nav-4_label" tabindex="1">
      Tutorials
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-4_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../tutorials/expose-a-service-as-a-managed-api/" class="md-nav__link">
      Expose a Service as a Managed API
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../tutorials/secure-an-api-with-role-based-access-control/" class="md-nav__link">
      Secure an API with RBAC
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        
        
        




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-5" >
    <label class="md-nav__link" for="nav-5" id="nav-5_label" tabindex="1">
      Bijira Concepts
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-5_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Bijira Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../bijira-concepts/organization/" class="md-nav__link">
      Organization
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../bijira-concepts/project/" class="md-nav__link">
      Project
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../bijira-concepts/data-planes/" class="md-nav__link">
      Data Planes
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        
        
        




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-6" >
    <label class="md-nav__link" for="nav-6" id="nav-6_label" tabindex="1">
      Create API Proxy
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-6_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Create API Proxy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/overview/" class="md-nav__link">
      Overview
    </a>
  
</li>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-6-2" >
    <label class="md-nav__link" for="nav-6-2" id="nav-6-2_label" tabindex="2">
      My APIs (Ingress)
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="2" aria-labelledby="nav-6-2_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-6-2">
        <span class="md-nav__icon md-icon"></span>
        My APIs (Ingress)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-6-2-1" >
    <label class="md-nav__link" for="nav-6-2-1" id="nav-6-2-1_label" tabindex="3">
      REST APIs
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="3" aria-labelledby="nav-6-2-1_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-6-2-1">
        <span class="md-nav__icon md-icon"></span>
        REST APIs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/my-apis/http/create-with-genai/" class="md-nav__link">
      Create with GenAI
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/my-apis/http/import-api-contract/" class="md-nav__link">
      Import API Contract
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/my-apis/import-api-from-github.md" class="md-nav__link">
      Import API Contract from GitHub
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/my-apis/http/start-with-endpoint/" class="md-nav__link">
      Start with Endpoint
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/my-apis/http/start-from-scratch/" class="md-nav__link">
      Start from Scratch
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-6-2-2" >
    <label class="md-nav__link" for="nav-6-2-2" id="nav-6-2-2_label" tabindex="3">
      WebSocket APIs
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="3" aria-labelledby="nav-6-2-2_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-6-2-2">
        <span class="md-nav__icon md-icon"></span>
        WebSocket APIs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/my-apis/websocket/create-with-genai/" class="md-nav__link">
      Create with GenAI
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/my-apis/websocket/import-api-contract/" class="md-nav__link">
      Import API Contract
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/my-apis/websocket/start-with-endpoint/" class="md-nav__link">
      Start with Endpoint
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/my-apis/websocket/start-from-scratch/" class="md-nav__link">
      Start from Scratch
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/my-apis/websocket/quotas-and-limitations/" class="md-nav__link">
      Limitations
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-6-3" >
    <label class="md-nav__link" for="nav-6-3" id="nav-6-3_label" tabindex="2">
      Third Party APIs (Egress)
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="2" aria-labelledby="nav-6-3_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-6-3">
        <span class="md-nav__icon md-icon"></span>
        Third Party APIs (Egress)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-6-3-1" >
    <label class="md-nav__link" for="nav-6-3-1" id="nav-6-3-1_label" tabindex="3">
      AI APIs
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="3" aria-labelledby="nav-6-3-1_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-6-3-1">
        <span class="md-nav__icon md-icon"></span>
        AI APIs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/ai-apis/" class="md-nav__link">
      Overview
    </a>
  
</li>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-6-3-1-2" >
    <label class="md-nav__link" for="nav-6-3-1-2" id="nav-6-3-1-2_label" tabindex="4">
      Providers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="4" aria-labelledby="nav-6-3-1-2_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-6-3-1-2">
        <span class="md-nav__icon md-icon"></span>
        Providers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/open-ai/" class="md-nav__link">
      OpenAI
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/azure-ai/" class="md-nav__link">
      Azure OpenAI
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/mistral/" class="md-nav__link">
      Mistral
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/awsbedrock/" class="md-nav__link">
      AWS Bedrock
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/claude/" class="md-nav__link">
      Anthropic
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-6-3-1-3" >
    <label class="md-nav__link" for="nav-6-3-1-3" id="nav-6-3-1-3_label" tabindex="4">
      Policies
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="4" aria-labelledby="nav-6-3-1-3_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-6-3-1-3">
        <span class="md-nav__icon md-icon"></span>
        Policies
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/token-ratelimit/" class="md-nav__link">
      Token-Based Rate Limit
    </a>
  
</li>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-6-3-1-3-2" >
    <label class="md-nav__link" for="nav-6-3-1-3-2" id="nav-6-3-1-3-2_label" tabindex="5">
      Guardrails
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="5" aria-labelledby="nav-6-3-1-3-2_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-6-3-1-3-2">
        <span class="md-nav__icon md-icon"></span>
        Guardrails
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/guardrails/" class="md-nav__link">
      Overview
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/guardrails/basic-guardrails/regex-guardrail/" class="md-nav__link">
      Regex Guardrail
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/guardrails/basic-guardrails/word-count-guardrail/" class="md-nav__link">
      Word Count Guardrail
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/guardrails/basic-guardrails/sentence-count-guardrail/" class="md-nav__link">
      Sentence Count Guardrail
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/guardrails/basic-guardrails/content-length-guardrail/" class="md-nav__link">
      Content Length Guardrail
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/guardrails/basic-guardrails/url-guardrail/" class="md-nav__link">
      URL Guardrail
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/guardrails/basic-guardrails/regex-pii-masking/" class="md-nav__link">
      Regex PII Masking
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/guardrails/advanced-guardrails/pii-masking/" class="md-nav__link">
      PII Masking
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/guardrails/third-party-guardrail-integrations/azure-content-safety-content-moderation/" class="md-nav__link">
      Azure Content Safety Content Moderation
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/guardrails/third-party-guardrail-integrations/aws-bedrock-guardrail/" class="md-nav__link">
      AWS Bedrock Guardrail
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/semantic-cache/" class="md-nav__link">
      Semantic Cache
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/get-from-marketplace/" class="md-nav__link">
      Get from Marketplace
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../create-api-proxy/third-party-apis/import-api-contract/" class="md-nav__link">
      Import API Contract
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        
        
        



  


  


<li class="md-nav__item md-nav__item--active md-nav__item--nested">
  
    
      
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-7" checked>
    <label class="md-nav__link" for="nav-7" id="nav-7_label" tabindex="1">
      Develop API Proxy
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-7_label" aria-expanded="true">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Develop API Proxy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-7-1" checked>
    <label class="md-nav__link" for="nav-7-1" id="nav-7-1_label" tabindex="2">
      Authentication and Authorization
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="2" aria-labelledby="nav-7-1_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-7-1">
        <span class="md-nav__icon md-icon"></span>
        Authentication and Authorization
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../authentication-and-authorization/secure-api-access-with-asgardeo/" class="md-nav__link">
      Secure API Access with Asgardeo
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../authentication-and-authorization/secure-api-access-with-bijira-sts/" class="md-nav__link">
      Secure API Access with Bijira STS
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../authentication-and-authorization/secure-api-access-with-azure-ad/" class="md-nav__link">
      Secure API Access with Azure AD
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../authentication-and-authorization/secure-communication-between-bijira-gateway-and-backend-with-oauth2/" class="md-nav__link">
      Secure Communication Between the Bijira Gateway and Your Backend with OAuth2
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../authentication-and-authorization/secure-communication-between-the-bijira-gateway-and-your-backend-with-mutual-tls/" class="md-nav__link">
      Secure Communication Between the Bijira Gateway and Your Backend with Mutual TLS
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          
          
          



  


  


<li class="md-nav__item md-nav__item--active md-nav__item--nested">
  
    
      
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-7-2" checked>
    <label class="md-nav__link" for="nav-7-2" id="nav-7-2_label" tabindex="2">
      Policy
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="2" aria-labelledby="nav-7-2_label" aria-expanded="true">
      <label class="md-nav__title" for="nav-7-2">
        <span class="md-nav__icon md-icon"></span>
        Policy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../overview/" class="md-nav__link">
      Overview
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../policies/" class="md-nav__link">
      Policies
    </a>
  
</li>
        
          
          
          



  



<li class="md-nav__item md-nav__item--active">
  
    <a href="./" class="md-nav__link md-nav__link--active">
      Attach and Manage Policies
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../documents/" class="md-nav__link">
      Documents
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../lifecycle-management/" class="md-nav__link">
      Lifecycle
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../subscription-plans/" class="md-nav__link">
      Subscription Plans
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        
        
        




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-8" >
    <label class="md-nav__link" for="nav-8" id="nav-8_label" tabindex="1">
      Test API Proxy
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-8_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon"></span>
        Test API Proxy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../test-api-proxy/openapi-console/" class="md-nav__link">
      OpenAPI Console
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../test-api-proxy/ws-test-console/" class="md-nav__link">
      WebSocket Console
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../test-api-proxy/curl/" class="md-nav__link">
      cURL
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../test-api-proxy/api-chat/" class="md-nav__link">
      API Chat
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        
        
        




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-9" >
    <label class="md-nav__link" for="nav-9" id="nav-9_label" tabindex="1">
      MCP Servers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-9_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon"></span>
        MCP Servers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../mcp-servers/get-started-with-mcp/" class="md-nav__link">
      Overview
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../mcp-servers/design-mcp-servers/" class="md-nav__link">
      Design MCP Servers
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../mcp-servers/proxy-remote-servers/" class="md-nav__link">
      Proxy Remote MCP Servers
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../mcp-servers/devportal-mcp-hub/" class="md-nav__link">
      Customize Developer Portal as an MCP Hub
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        
        
        




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-10" >
    <label class="md-nav__link" for="nav-10" id="nav-10_label" tabindex="1">
      API Governance
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-10_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-10">
        <span class="md-nav__icon md-icon"></span>
        API Governance
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../governance/overview/" class="md-nav__link">
      API Governance Overview
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../governance/govern-api-proxy/" class="md-nav__link">
      Govern API Proxy
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        
        
        




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-11" >
    <label class="md-nav__link" for="nav-11" id="nav-11_label" tabindex="1">
      Monitor and Insights
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-11_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon"></span>
        Monitor and Insights
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../monitoring-and-insights/integrate-bijira-with-moesif/" class="md-nav__link">
      Integrate Bijira with Moesif
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        
        
        




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-12" >
    <label class="md-nav__link" for="nav-12" id="nav-12_label" tabindex="1">
      Administer
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-12_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-12">
        <span class="md-nav__icon md-icon"></span>
        Administer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../administer/settings/create-api-subscription-plans/" class="md-nav__link">
      Create API Subscription Plans
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../administer/settings/configure-a-custom-domain-for-your-organization/" class="md-nav__link">
      Configure a Custom Domain for Your Organization
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../administer/manage-environments/manage-environments/" class="md-nav__link">
      Manage Environments
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../administer/manage-cd-pipelines/manage-cd-pipelines/" class="md-nav__link">
      Manage CD pipelines
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../administer/configure-an-external-idp/configure-asgardeo-as-an-external-idp/" class="md-nav__link">
      Configure Asgardeo as an External IdP
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../administer/configure-enterprise-login/configure-enterprise-login/" class="md-nav__link">
      Configure Enterprise Login
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../administer/configure-vpns/configure-vpns/" class="md-nav__link">
      Configure VPNs on Bijira Cloud Data Plane
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        
        
        




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-13" >
    <label class="md-nav__link" for="nav-13" id="nav-13_label" tabindex="1">
      Workflows
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-13_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-13">
        <span class="md-nav__icon md-icon"></span>
        Workflows
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../workflows/configure-workflow-approvals/" class="md-nav__link">
      Configure Workflow Approvals
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../workflows/submit-workflow-requests/" class="md-nav__link">
      Submit Workflow Approval Requests
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../workflows/review-workflows-requests/" class="md-nav__link">
      Review Workflow Approval Requests
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        
        
        




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-14" >
    <label class="md-nav__link" for="nav-14" id="nav-14_label" tabindex="1">
      Developer Portal
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="1" aria-labelledby="nav-14_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-14">
        <span class="md-nav__icon md-icon"></span>
        Developer Portal
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-14-1" >
    <label class="md-nav__link" for="nav-14-1" id="nav-14-1_label" tabindex="2">
      Theming Developer Portal
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="2" aria-labelledby="nav-14-1_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-14-1">
        <span class="md-nav__icon md-icon"></span>
        Theming Developer Portal
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../devportal/theming-devportal-with-ai/" class="md-nav__link">
      Theming with AI
    </a>
  
</li>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-14-1-2" >
    <label class="md-nav__link" for="nav-14-1-2" id="nav-14-1-2_label" tabindex="3">
      Theming Manually
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="3" aria-labelledby="nav-14-1-2_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-14-1-2">
        <span class="md-nav__icon md-icon"></span>
        Theming Manually
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../devportal/theming-devportal-org-level/" class="md-nav__link">
      Theme in Organizational Level
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../devportal/theming-devportal-api-level/" class="md-nav__link">
      Theme in API Level
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../devportal/developer-portal-mode/" class="md-nav__link">
      Devportal Mode
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-14-2" >
    <label class="md-nav__link" for="nav-14-2" id="nav-14-2_label" tabindex="2">
      Discover APIs
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="2" aria-labelledby="nav-14-2_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-14-2">
        <span class="md-nav__icon md-icon"></span>
        Discover APIs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../devportal/discover-apis/api-search/" class="md-nav__link">
      Search APIs
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../devportal/discover-apis/api-documentations/" class="md-nav__link">
      Documentations
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-14-3" >
    <label class="md-nav__link" for="nav-14-3" id="nav-14-3_label" tabindex="2">
      Consume an API
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="2" aria-labelledby="nav-14-3_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-14-3">
        <span class="md-nav__icon md-icon"></span>
        Consume an API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../devportal/consuming-services/consume-an-api-secured-with-oauth2/" class="md-nav__link">
      Consume an API Secured with OAuth2
    </a>
  
</li>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../devportal/consuming-services/consume-an-api-secured-with-api-key/" class="md-nav__link">
      Consume an API Secured with API Key
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-14-4" >
    <label class="md-nav__link" for="nav-14-4" id="nav-14-4_label" tabindex="2">
      Manage Applications
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="2" aria-labelledby="nav-14-4_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-14-4">
        <span class="md-nav__icon md-icon"></span>
        Manage Applications
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../devportal/manage-applications/create-an-application/" class="md-nav__link">
      Create an Application
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          
          
          




  


<li class="md-nav__item md-nav__item--nested">
  
    
    <input class="md-nav__toggle md-toggle" type="checkbox" id="nav-14-5" >
    <label class="md-nav__link" for="nav-14-5" id="nav-14-5_label" tabindex="2">
      Manage Subscriptions
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" data-md-level="2" aria-labelledby="nav-14-5_label" aria-expanded="false">
      <label class="md-nav__title" for="nav-14-5">
        <span class="md-nav__icon md-icon"></span>
        Manage Subscriptions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
          
          
          





<li class="md-nav__item">
  
    <a href="../../../devportal/manage-subscriptions/subscribe-to-an-api/" class="md-nav__link">
      Subscribe to an API
    </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  </nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary">
    
    
    
    
    
    <!-- <a href="#" title="On this page" class="nav_link md-icon md-content__icon toc_icon" id="tocToggleBtn">toc</a> -->
    <label class="md-nav__title" for="__toc"></label>
    <ul data-md-scrollfix >
        
        <li class="md-nav__item">
  <a href="#attach-a-policy" class="md-nav__link">
    Attach a Policy
  </a>
  
    <nav class="md-nav" aria-label="Attach a Policy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attach-an-api-level-policy" class="md-nav__link">
    Attach an API level Policy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attach-a-resource-level-policy" class="md-nav__link">
    Attach a Resource level Policy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#refresh-mediation-policies" class="md-nav__link">
    Refresh Mediation Policies
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#implement-an-api-policy" class="md-nav__link">
    Implement an API policy
  </a>
  
    <nav class="md-nav" aria-label="Implement an API policy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-initialize-a-ballerina-project" class="md-nav__link">
    Step 1: Initialize a Ballerina project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-implement-the-policy" class="md-nav__link">
    Step 2: Implement the policy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-publish-the-policy" class="md-nav__link">
    Step 3: Publish the policy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-unit-tests" class="md-nav__link">
    Write unit tests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#glossary" class="md-nav__link">
    Glossary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keywords" class="md-nav__link">
    Keywords
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        
        
        
        
    </ul>
    
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" style="margin-right: 4px;">
                
                  

  
    <a href="https://github.com/wso2/docs-bijira/edit/main/en/docs/develop-api-proxy/policy/attach-and-manage-policies.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/wso2/docs-bijira/raw/main/en/docs/develop-api-proxy/policy/attach-and-manage-policies.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


<h1 id="attach-and-manage-policies">Attach and Manage Policies<a class="headerlink" href="#attach-and-manage-policies" title="Permanent link">&para;</a></h1>
<p>You can easily attach one or more policies to an API proxy component implementation via the Bijira Console. If necessary, you can also rearrange or swap the policies you attach.</p>
<p>In Bijira, when you attach a mediation policy to a proxy, the deployment is a two-step process.</p>
<ol>
<li>
<p>Deployment initiation:</p>
<p>If the component to which you want to attach the mediation policy is new, the system creates and commits a new repository with the mediation service code based on the attached policy. This new service is called the mediation application.</p>
</li>
<li>
<p>Deploying the API:</p>
<p>Once the deployment initiation is complete, you can specify configuration values if any, and proceed to deploy. Bijira builds the generated mediation application and pushes the Docker image to the Docker registry. Finally, Bijira deploys the mediation application with the API Proxy.</p>
</li>
</ol>
<p>When a mediation policy is attached to a specific flow, the API invocation undergoes the following behavioral modification:</p>
<p><a class="glightbox" href="../../../assets/img/develop-api-proxy/policy/request-response-flow.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Request/Response flow" src="../../../assets/img/develop-api-proxy/policy/request-response-flow.png" /></a></p>
<ul>
<li>
<p>In the request path, the requests that pass through the gateway reach the relevant component, and Bijira executes any attached policies to the resource's request path before sending it to the backend.</p>
</li>
<li>
<p>In the response path, the mediation component receives response messages from the backend, and Bijira executes any mediation policies attached to the <code>Response</code> flow or the <code>Error</code> flow. Then the response is forwarded to the client.</p>
</li>
<li>
<p>If an error occurs during the execution of policies or due to an internal error, Bijira executes the <code>Error</code> flow and sends an error response to the client.</p>
</li>
</ul>
<h2 id="attach-a-policy">Attach a Policy<a class="headerlink" href="#attach-a-policy" title="Permanent link">&para;</a></h2>
<h3 id="attach-an-api-level-policy">Attach an API level Policy<a class="headerlink" href="#attach-an-api-level-policy" title="Permanent link">&para;</a></h3>
<p>To attach an API level policy to the <code>Request</code> flow of a REST API proxy, follow the steps given below:</p>
<ol>
<li>Sign in to the <a href="https://console.bijira.dev">Bijira Console</a>.</li>
<li>Select the project and API to which you want to attach a policy.</li>
<li>In the left navigation menu, click <strong>Develop</strong>, then click <strong>Policy</strong>.</li>
<li>Click the <strong>Add API-level Policies</strong> button in the <strong>API Proxy Contract</strong> component.
    <a class="glightbox" href="../../../assets/img/develop-api-proxy/policy/click-add-api-level-policy-button.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Add API-level Policies button" src="../../../assets/img/develop-api-proxy/policy/click-add-api-level-policy-button.png" /></a></li>
<li>In the <strong>API Policies</strong> pane, click <strong>Attach Mediation Policy</strong> to view the applicable mediation policy list.
    <a class="glightbox" href="../../../assets/img/develop-api-proxy/policy/click-attach-policy-button.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Policy list" src="../../../assets/img/develop-api-proxy/policy/click-attach-policy-button.png" /></a></li>
<li>In the <strong>Policy List</strong> pane that opens, click on a policy to view its details and configure its parameters. To make a parameter a configurable variable, input the value in the <code>${&lt;variableName&gt;}</code> format. For example, you can use <code>${name}</code> as an example.
    <a class="glightbox" href="../../../assets/img/develop-api-proxy/policy/configure-policy-API-level.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Configurable Parameters" src="../../../assets/img/develop-api-proxy/policy/configure-policy-API-level.png" /></a></li>
<li>Click <strong>Add</strong> to attach the policy. Then, click <strong>Save</strong> to apply the configuration to the API.  </li>
</ol>
<h3 id="attach-a-resource-level-policy">Attach a Resource level Policy<a class="headerlink" href="#attach-a-resource-level-policy" title="Permanent link">&para;</a></h3>
<p>To attach a resource level policy to the <code>Request</code>, <code>Response</code>, or <code>Error</code> flow of a REST API proxy, follow the steps given below:</p>
<ol>
<li>Sign in to the <a href="https://console.bijira.dev">Bijira Console</a>.</li>
<li>Select the project and API to which you want to attach a policy.</li>
<li>In the left navigation menu, click <strong>Develop</strong>, then click <strong>Policy</strong>.</li>
<li>From the list of resources, click the <strong>Attach Policy Button</strong> for the required policy.
    <a class="glightbox" href="../../../assets/img/develop-api-proxy/policy/click-resource-level-policy-button.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Resource level policy button" src="../../../assets/img/develop-api-proxy/policy/click-resource-level-policy-button.png" /></a></li>
<li>In the <strong>Edit Mediation Policies</strong> pane, click <strong>Attach Mediation Policy</strong> in the respective flow where you want to attach a policy.<br />
<a class="glightbox" href="../../../assets/img/develop-api-proxy/policy/edit-mediation-policies-pane.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Edit mediation policies pane" src="../../../assets/img/develop-api-proxy/policy/edit-mediation-policies-pane.png" /></a></li>
<li>In the <strong>Policy List</strong> pane that opens, click on a policy to view its details.</li>
<li>If the attached policy requires parameter configuration, on the policy pane enter the appropriate values and configure the parameters. To make a parameter a configurable variable, input the value in the <code>${&lt;variableName&gt;}</code> format. For example, you can use <code>${name}</code> as an example.
    <a class="glightbox" href="../../../assets/img/develop-api-proxy/policy/configure-policy.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Configure policy" src="../../../assets/img/develop-api-proxy/policy/configure-policy.png" /></a></li>
<li>Click <strong>Add</strong> to attach the policy to the selected flow. Then, click <strong>Save</strong> to apply the configuration to the API resource.  </li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After attaching an API Policy, it is necessary to deploy the API for the policy to become active within its corresponding flow.</p>
</div>
<p>To deploy the API follow the steps below:</p>
<ol>
<li>
<p>In the left navigation menu, click <strong>Deploy</strong> and then click <strong>Configure &amp; Deploy</strong>. Bijira performs the mediation application generation step and opens the <strong>Configure &amp; Deploy</strong> pane.
    <!-- TODO: Add images to step 1 and 2 after they are done -->
    <!-- <a class="glightbox" href="../../assets/img/develop-api-proxy/policy/configure-and-deploy-api.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Configure and deploy API" src="../../assets/img/develop-api-proxy/policy/configure-and-deploy-api.png" /></a>  --></p>
</li>
<li>
<p>In the <strong>Configure &amp; Deploy</strong> pane, if you have any configurable variables that require values, specify appropriate values for them.</p>
<!-- <a class="glightbox" href="../../assets/img/develop-api-proxy/policy/save-and-deploy.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Save and deploy values" src="../../assets/img/develop-api-proxy/policy/save-and-deploy.png" /></a> -->

</li>
<li>
<p>Click <strong>Save &amp; Deploy</strong>.</p>
</li>
</ol>
<h2 id="refresh-mediation-policies">Refresh Mediation Policies<a class="headerlink" href="#refresh-mediation-policies" title="Permanent link">&para;</a></h2>
<p>Bijira selectively generates and builds the mediation application code during component deployment depending on specific changes. These changes include:</p>
<ul>
<li>Addition, deletion, or modification of API resources.</li>
<li>Attachment, removal, or editing of API mediation policies.</li>
<li>Endpoint modifications via the <strong>Develop</strong> page.</li>
<li>Initial configuration or removal of backend endpoints or mutual TLS certificates.</li>
</ul>
<p>If none of the above changes occur during deployment, Bijira skips the code generation and build process of the mediation application.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li>If you want to enforce the code generation and build process of the mediation application in instances where the specified changes do not take place, you must turn on the <strong>Refresh Mediation Policies</strong> toggle when you configure and deploy the component.</li>
<li>It is useful to enable <strong>Refresh Mediation Policies</strong> when you want to incorporate the latest Ballerina patches for your generated mediation application. However, this can result in longer deployment times.</li>
</ul>
</div>
<h2 id="implement-an-api-policy">Implement an API policy<a class="headerlink" href="#implement-an-api-policy" title="Permanent link">&para;</a></h2>
<p>Bijira allows you to implement an API policy as a Ballerina project and attach it to an API proxy component. </p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Supported Ballerina version: 2201.5.5 </p>
</div>
<p>To implement a policy, follow the steps given below: </p>
<h3 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h3>
<ol>
<li>Set up <a href="https://ballerina.io/downloads/swan-lake-release-notes/swan-lake-2201.5.5"> Ballerina 2201.5.5</a>.</li>
<li>Open the <code>~/.ballerina/settings.toml</code> file and ensure you have configured an access token to Ballerina Central. If you have not configured an access token, follow the steps given below to configure one: <ol>
<li>Generate a token via <a href="https://central.ballerina.io/dashboard?tab=token">https://central.ballerina.io/dashboard?tab=token</a>.</li>
<li>Download the generated <code>Settings.toml</code> file and copy it to your local <code>~/.ballerina</code> directory.</li>
</ol>
</li>
</ol>
<p>Alternatively, you can set the access token via the <code>BALLERINA_CENTRAL_ACCESS_TOKEN</code> environment variable.</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>export BALLERINA_CENTRAL_ACCESS_TOKEN=&lt;access-token&gt; 
</code></pre></div>

<h3 id="step-1-initialize-a-ballerina-project">Step 1: Initialize a Ballerina project<a class="headerlink" href="#step-1-initialize-a-ballerina-project" title="Permanent link">&para;</a></h3>
<p>Bijira provides a template to initialize a mediation policy project with all the required configurations. The mediation policy project will be created as a Ballerina project.</p>
<p>To create a Ballerina project for the mediation policy using <code>mediation.template</code> as the project template, issue the following command:  </p>
<p><strong>Format:</strong></p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>    bal new -t choreo/mediation.template:1.0.0 &lt;policy-name&gt; 
</code></pre></div>

<p><strong>Example:</strong></p>
<p><div class="language-text highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>    bal new -t choreo/mediation.template:1.0.0 validateHeader 
</code></pre></div>
 The Ballerina project that is created should have the following content: </p>
<p><a class="glightbox" href="../../../assets/img/develop-api-proxy/policy/ballerina-project.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ballerina project" src="../../../assets/img/develop-api-proxy/policy/ballerina-project.png" /></a></p>
<p>Depending on your requirement, you can modify the <code>Ballerina.toml</code> and the <code>Package.md</code> files of the generated project. For example, you can update the org, package, package version, API documentation content, keywords, etc.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To successfully publish to Ballerina Central, make sure you update the <code>org</code> value to your organization name.</p>
</div>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>     [package]
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>        org = &quot;starkindustries&quot;
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>        name = &quot;validateHeader&quot;
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>        version = &quot;1.0.0&quot;
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>        export = [&quot;validateHeader&quot;]
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>        distribution = &quot;2201.5.5&quot;
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>        keywords = [&quot;choreo-apim-mediation-policy&quot;,&quot;choreo-apim-mediation-request-flow&quot;,&quot;choreo-apim-mediation-response-flow&quot;,&quot;choreo-apim-mediation-fault-flow&quot;]
</code></pre></div>

<h3 id="step-2-implement-the-policy">Step 2: Implement the policy<a class="headerlink" href="#step-2-implement-the-policy" title="Permanent link">&para;</a></h3>
<p>In this step, you will implement the policy. </p>
<p>Let's assume you want to implement a policy to validate an incoming header in the request and the response. </p>
<ul>
<li><strong>Request path</strong>: If the request header is not present or if the validation fails, you want to log an error and return a <code>403 Bad Request</code> response to the client.</li>
<li><strong>Response path</strong>: You want to log a message to indicate whether the request is valid or not.</li>
</ul>
<p>To implement the policy, open the <code>policy.bal</code> file in the Ballerina project and update the generated policy stubs(i.e., request, response, or fault) appropriately. </p>
<p>The following sections walk you through sample implementations for the <strong>Request</strong> and <strong>Response</strong> stubs:</p>
<h4>Request flow</h4>
<p>The following is a sample implementation for the request flow:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>@mediation:RequestFlow
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>public function validateRequestHeader(mediation:Context ctx, http:Request req, string headerName, string headerValue) returns http:Response|false|error|() {
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>   string|http:HeaderNotFoundError header = req.getHeader(headerName);
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>   if (header is http:HeaderNotFoundError) {
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    string message = string `Header ${headerName} is not found`;
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    log:printError(message);
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    return generateResponse(message, http:STATUS_BAD_REQUEST);
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>   }
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>   if (header != headerValue) {
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    string validationFailedMessage = string `Header validation failed. Expected ${headerValue} but found ${header}`;
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    log:printError(validationFailedMessage);
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>    return generateResponse(validationFailedMessage, http:STATUS_BAD_REQUEST);
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>    }
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>    log:printInfo(&quot;Header validation successful&quot;);
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    return ();
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>};
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>function generateResponse(string message, int statusCode) returns http:Response {
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>    http:Response response = new();
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>    response.setTextPayload(message); 
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>    response.statusCode = statusCode;
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>    return response;
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>}
</code></pre></div>

<h4>Response flow</h4>
<p>The following is a sample implementation for the response flow:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>@mediation:ResponseFlow
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>public function validateResponseHeader(mediation:Context ctx, http:Request req, http:Response res, string headerName, string headerValue) returns http:Response|false|error|() { 
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>   string|http:HeaderNotFoundError header = res.getHeader(headerName);
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>   if (header is http:HeaderNotFoundError) {
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>    string message = string `Header ${headerName} is not found`;
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    log:printError(message);
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    return ();
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>   }
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>   if (header != headerValue) {
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>    string validationFailedMessage = string `Header validation failed. Expected ${headerValue} but found ${header}`;
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>    log:printError(validationFailedMessage);
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>    return ();
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>   }
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>   return ();
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>}
</code></pre></div>

<h4>Fault flow</h4>
<p>In this guide, you are not going to make any changes to the <code>Fault</code> flow. Therefore, you can remove the <code>Fault</code> flow stub from the <code>policy.bal</code> file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The  <strong>@mediation:RequestFlow</strong>, <strong>@mediation:ResponseFlow</strong>, and <strong>@mediation:FaultFlow</strong> annotations are bound with the keywords in the <code>Ballerina.toml</code>. Therefore, the changes you make to the policy stubs should reflect in the <code>Ballerina.toml</code> file. For example, if the policy is applicable only on the request and response paths, you can remove the  <strong>@mediation:FaultFlow</strong> annotation from the policy. Then, you <strong>MUST</strong> also remove the <strong>choreo-apim-mediation-fault-flow</strong> keyword from the generated <code>Ballerina.toml</code> file. If you do not do so, the Ballerina compiler will show an error at compile time.</p>
</div>
<h4>Publish as a private custom policy</h4>
<p>Bijira supports publishing a policy as a private custom policy. Publishing a policy as a private custom policy makes the policy inaccessible outside of the organization. To publish a policy as a private custom policy, change the visibility to <code>private</code> prior to pushing the package to Ballerina Central as follows:</p>
<ol>
<li>Open the <code>Ballerina.toml</code> file of your policy. </li>
<li>
<p>Set the visibility to <strong>private</strong> by adding the configuration <code>visibility="private"</code>. For example:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>[package]
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>   org = &quot;orgName&quot;
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>   name = &quot;packageName&quot;
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>   version = &quot;1.0.2&quot;
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>   export = [&quot;packageName&quot;]
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>   distribution = &quot;2201.5.5&quot;
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>   keywords = [&quot;choreo-apim-mediation-policy&quot;,&quot;choreo-apim-mediation-request-flow&quot;,&quot;choreo-apim-mediation-response-flow&quot;,&quot;choreo-apim-mediation-fault-flow&quot;]
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>   visibility = &quot;private&quot;
</code></pre></div>

</li>
<li>
<p>Package and publish your policy to Ballerina Central.     </p>
</li>
</ol>
<h4>Best practices</h4>
<p>When implementing a policy, it is essential to follow best practices to ensure efficiency and maintainability. Here are some recommended best practices to follow:</p>
<ul>
<li>Organize the source code within the default module of the package. Do not add any additional modules.</li>
<li>A policy implementation can contain any combination of flows. A generated project contains stubs for all three flows: <code>Request</code>, <code>Response</code>, and <code>Fault</code>. You can remove any stub that you do not require. For example, when you create a policy that re-writes the resource paths, you can remove the <code>Response</code> and <code>fault</code> stubs. </li>
<li>The HTTP request/response objects and context record parameters gets passed as references to the policy functions. Therefore, the changes you make to these values persist throughout the policy execution and are propagated to subsequent policies. This behavior allows the request and response objects to accumulate transformations applied by attached policies.</li>
<li>Familiarize yourself with the different return types of policy flows. The following return types are unmodifiable:<ul>
<li><strong>http:Response</strong> - Returns an HTTP response when you terminate the mediation flow prematurely. For example,  in the in-flow sequence, the mediation sequence terminates before calling the backend. The mediation policy then sends an HTTP response to the client.</li>
<li><strong>false</strong> - Returns <code>false</code> if you want to terminate the mediation sequence with a predefined response (on the Bijira side).</li>
<li><strong>error</strong> - Returns an error if you want to terminate the mediation flow and transfer control to the fault flow. The fault flow would then construct an error response and send it to the client.</li>
<li><strong>()</strong> - Returns () to signal the successful completion of the policy. Once the proxy has completed executing the policy, it starts to execute the next policy in the sequence.</li>
</ul>
</li>
</ul>
<h3 id="step-3-publish-the-policy">Step 3: Publish the policy<a class="headerlink" href="#step-3-publish-the-policy" title="Permanent link">&para;</a></h3>
<p>Once you implement a policy, you must publish it to Ballerina Central. </p>
<p>When you attach a policy and deploy an API, Bijira pulls the necessary packages from Ballerina Central and bundles them into the mediation application under the hood. Therefore to use policies in your APIs, you must publish them as public packages. </p>
<p>To publish the policy, follow the steps given below:</p>
<ol>
<li>To package the policy before you publish it to Ballerina Central, issue the following command:
    <div class="language-text highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>    bal pack 
</code></pre></div></li>
<li>
<p>To publish the package to Ballerina Central, issue the following command:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>    bal push 
</code></pre></div>

</li>
</ol>
<p>Once you publish the package, it will appear as follows in the policy list:</p>
<p><a class="glightbox" href="../../../assets/img/develop-api-proxy/policy/published-policy.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Published policy" src="../../../assets/img/develop-api-proxy/policy/published-policy.png" /></a></p>
<h3 id="write-unit-tests">Write unit tests<a class="headerlink" href="#write-unit-tests" title="Permanent link">&para;</a></h3>
<p>You can write unit tests to test policy functions in a manner similar to how you write unit tests for a regular <a href="https://ballerina.io/learn/test-ballerina-code/test-a-simple-function/">Ballerina function</a>. </p>
<p>The following is a sample unit test for the <code>validateRequestHeader</code> function:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>import ballerina/http;
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>import choreo/mediation;
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>import ballerina/test;
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>@test:Config {}
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>public function testRequestHeaderValidationFailure() {
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>  http:Request req = new;
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>  http:Response|false|error|() result = validateRequestHeader(createContext(&quot;get&quot;, &quot;/test&quot;), req, &quot;testHeader&quot;, &quot;test&quot;);
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>  if !(result is http:Response) {
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>    test:assertFail(&quot;Expected http:Response, found &quot; + (typeof result).toString());
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>  }
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>  test:assertEquals(result.statusCode, http:STATUS_BAD_REQUEST, &quot;Status code mismatch&quot;);
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a>}
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a>function createContext(string httpMethod, string resPath) returns mediation:Context {
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a>   mediation:ResourcePath originalPath = checkpanic mediation:createImmutableResourcePath(resPath);
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a>   mediation:Context originalCtx =
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a>               mediation:createImmutableMediationContext(httpMethod, originalPath.pathSegments(), {}, {});
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a>   mediation:ResourcePath mutableResPath = checkpanic mediation:createMutableResourcePath(resPath);
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a>   return mediation:createMutableMediationContext(originalCtx, mutableResPath.pathSegments(), {}, {});
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a>}
</code></pre></div>

<p>The policy function modifies the same request/response/context instance that you pass to it. You can check the request/response/context instance after calling the policy function to verify changes.</p>
<h3 id="glossary">Glossary<a class="headerlink" href="#glossary" title="Permanent link">&para;</a></h3>
<p>Here are some of the common terms used when working with policies in Bijira:</p>
<h4>mediation:Context</h4>
<p>The mediation context is used to pass parameters between policies. It is created per request and you can access it in any of the flows. For example, if a correlation ID needs to be set to the request, you can set it in the context of the request flow and access it in the response or fault flow. </p>
<p>The mediation context can include the following functions:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a># Retrieves the value for the specified key.   
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>public function get(string name) returns anydata;
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a># Stores the provided key-value pair. If a mapping exists for the key, the value is overwritten.
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>public function put(string name, anydata value);
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a># Removes the entry mapped by the specified key and returns the removed value.
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>public function remove(string name) returns anydata;
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a># Retrieves the value for the specified key. If there is no mapping for the key, return the specified
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>public function getOrDefault(string name, anydata default) returns anydata;
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a># Checks whether a mapping exists for the specified key.
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>public function hasKey(string name) returns boolean;
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a># Returns the `mediation:Context` instance which captured the initial contextual information of the resource,
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a># before the mediation flow was invoked. Calling this on an original `mediation:Context` object will return itself.
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>public function originalContext() returns Context;
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a># The HTTP method of the resource method
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a>public function httpMethod() returns string;
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a>
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a>
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a># Retrieves an instance of `mediation:ResourcePath` which is an API for contextual information on the resource path
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a># of this resource. It also contains methods for modifying the resource path as the user sees fit. This resource
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a># path is the same path used by the mediation service for deriving the backend endpoint&#39;s resource to invoke.
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a># Therefore, the default behavior of the mediation service is to invoke a resource in the backend endpoint which
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a># has the same relative resource path as the corresponding mediation service resource.
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a>public function resourcePath() returns ResourcePath;
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a>
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a>
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a># Sets the given `mediation:ResourcePath` instance as the resource path of this context.
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a>public function setResourcePath(ResourcePath path);
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a>
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a>
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a># Adds a mapping between a path param name and a resolved value for it. There need not be a path parameter in the
<a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a># resource path by the name specified in `name` for one to use this method. On its own, the path param values have
<a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a># no bearing on the resource path.
<a id="__codelineno-10-45" name="__codelineno-10-45" href="#__codelineno-10-45"></a>public function addPathParamValue(string name, PathParamValue value);
<a id="__codelineno-10-46" name="__codelineno-10-46" href="#__codelineno-10-46"></a>
<a id="__codelineno-10-47" name="__codelineno-10-47" href="#__codelineno-10-47"></a>
<a id="__codelineno-10-48" name="__codelineno-10-48" href="#__codelineno-10-48"></a># Returns the collection of resolved values for the path parameters in this particular context, mapped
<a id="__codelineno-10-49" name="__codelineno-10-49" href="#__codelineno-10-49"></a># by the parameter name.
<a id="__codelineno-10-50" name="__codelineno-10-50" href="#__codelineno-10-50"></a>public function resolvedPathParams() returns map&lt;PathParamValue&gt; &amp; readonly;
<a id="__codelineno-10-51" name="__codelineno-10-51" href="#__codelineno-10-51"></a>
<a id="__codelineno-10-52" name="__codelineno-10-52" href="#__codelineno-10-52"></a>
<a id="__codelineno-10-53" name="__codelineno-10-53" href="#__codelineno-10-53"></a># Removes the resolved path parameter value which maps to the specified name.
<a id="__codelineno-10-54" name="__codelineno-10-54" href="#__codelineno-10-54"></a>public function removePathParamValue(string name);
<a id="__codelineno-10-55" name="__codelineno-10-55" href="#__codelineno-10-55"></a>
<a id="__codelineno-10-56" name="__codelineno-10-56" href="#__codelineno-10-56"></a>
<a id="__codelineno-10-57" name="__codelineno-10-57" href="#__codelineno-10-57"></a># Adds a query parameter to the request to be sent to the backend. If there is already a query parameter by
<a id="__codelineno-10-58" name="__codelineno-10-58" href="#__codelineno-10-58"></a># with the same name, the new value will be appended to it, making it an array.
<a id="__codelineno-10-59" name="__codelineno-10-59" href="#__codelineno-10-59"></a>public function addQueryParam(string name, string value);
<a id="__codelineno-10-60" name="__codelineno-10-60" href="#__codelineno-10-60"></a>
<a id="__codelineno-10-61" name="__codelineno-10-61" href="#__codelineno-10-61"></a>
<a id="__codelineno-10-62" name="__codelineno-10-62" href="#__codelineno-10-62"></a># Removes the specified query parameter from the request. If the value of the parameter is an array, the whole
<a id="__codelineno-10-63" name="__codelineno-10-63" href="#__codelineno-10-63"></a># array will be removed.
<a id="__codelineno-10-64" name="__codelineno-10-64" href="#__codelineno-10-64"></a>public function removeQueryParam(string name);
<a id="__codelineno-10-65" name="__codelineno-10-65" href="#__codelineno-10-65"></a>
<a id="__codelineno-10-66" name="__codelineno-10-66" href="#__codelineno-10-66"></a>
<a id="__codelineno-10-67" name="__codelineno-10-67" href="#__codelineno-10-67"></a># Retrieves a map of all the query parameters in the current request context. The returned map is a read-only snapshot
<a id="__codelineno-10-68" name="__codelineno-10-68" href="#__codelineno-10-68"></a># of the map of query parameters in the context at the time this method was called.
<a id="__codelineno-10-69" name="__codelineno-10-69" href="#__codelineno-10-69"></a>public function queryParams() returns map&lt;string[]&gt; &amp; readonly;
</code></pre></div>

<h3 id="keywords">Keywords<a class="headerlink" href="#keywords" title="Permanent link">&para;</a></h3>
<p>The <code>Ballerina.toml</code> file needs to include the following keywords for the mediation policies to work:</p>
<ul>
<li><strong>choreo-apim-mediation-policy</strong>: This keyword is a mandatory keyword that is required to identify that the package is a mediation policy type.</li>
<li><strong>choreo-apim-mediation-request-flow</strong>: Specifies whether the policy applies to the request flow.</li>
<li><strong>choreo-apim-mediation-response-flow</strong>: Specifies whether the policy applies to the response flow.</li>
<li><strong>choreo-apim-mediation-fault-flow</strong>: Specifies whether the policy is applicable for the fault flow.</li>
</ul>
<h4>Policy name and description</h4>
<p>The <code>Package.md</code> file contains information about the policy. Bijira uses this information to render the policy configuring UI. This file is written in Markdown format and should be structured as follows.</p>
<p><strong>Format:</strong></p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a># &lt;policy-name&gt;
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>## Overview
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>&lt;policy description&gt;
</code></pre></div>

<p><strong>Example:</strong></p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a># ValidateHeader
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>## Overview
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>This policy validates the request and response headers with the configured values.
</code></pre></div>

<h4>Policy versioning</h4>
<p>When it comes to policy versioning in Bijira or mediation dependencies, it is important to consider the major version changes in the Ballerina language. For example, transitioning from update 1 to update 2 requires a major version increment, which can introduce significant incompatibilities.</p>
<p>Therefore, to ensure compatibility, the recommended approach is to version the policy package in a manner that the major version gets upgraded when the Choreo/mediation dependency version is upgraded to a major version.  </p>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
      
        <footer class="md-footer">
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../policies/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Policies" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <div class="md-ellipsis">
                <span class="md-footer__direction">
                  Previous
                </span>
                Policies
              </div>
            </div>
          </a>
        
        
          
          <a href="../../documents/" class="md-footer__link md-footer__link--next" aria-label="Next: Documents" rel="next">
            <div class="md-footer__title">
              <div class="md-ellipsis">
                <span class="md-footer__direction">
                  Next
                </span>
                Documents
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="footer-copyright-right">
    <div class="footer-copyright-top">
      Copyright &copy; <a href="https://wso2.com/">WSO2</a> LLC (2025)
    </div>
    <div class="footer-copyright-bottom">
      Content licensed under <a href="https://creativecommons.org/licenses/by/4.0">CC By 4.0.</a> | Sample code
      licensed under <a href="http://www.apache.org/licenses/">Apache 2.0</a>.
    </div>
  </div>
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.path", "navigation.top", "content.code.copy", "content.action.edit", "content.action.view"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fc8c2696.min.js"></script>
      
        <script src="../../../assets/lib/json-formatter/json-formatter.umd.js"></script>
      
        <script src="../../../assets/lib/highlightjs/highlight.min.js"></script>
      
        <script src="../../../assets/js/bijiratheme.js"></script>
      
        <script src="../../../js/open_in_new_tab.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>